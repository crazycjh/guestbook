{"ast":null,"code":"import{useParams,Route,Link,useRouteMatch}from\"react-router-dom\";import{Fragment,useEffect}from\"react\";// import Test from \"./Test\";\nimport useHttp from'../hooks/use-http';import{getSingleQuote}from\"../lib/api\";import Comments from\"../components/comments/Comments\";import HighlightedQuote from\"../components/quotes/HighlightedQuote\";import LoadingSpinner from\"../components/UI/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DUMMY_QUOTES=[{id:\"q1\",author:\"Max\",text:\"Learning React is fun\"},{id:\"q2\",author:\"Maxis\",text:\"Learning React is great\"}];var QuotesDetail=function QuotesDetail(){var match=useRouteMatch();var params=useParams();var quoteId=params.quoteId;var _useHttp=useHttp(getSingleQuote,true),sendRequest=_useHttp.sendRequest,status=_useHttp.status,loadedQuote=_useHttp.data,error=_useHttp.error;useEffect(function(){sendRequest(quoteId);},[sendRequest,quoteId]);console.log('match'+match);//   const quote = DUMMY_QUOTES.find((quote) => quote.id === params.quoteId);\nif(status==='pending'){return/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsx(\"p\",{className:\"centered\",children:error});}if(!loadedQuote.text){return/*#__PURE__*/_jsx(\"p\",{children:\"No quote found!\"});}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(HighlightedQuote,{text:loadedQuote.text,author:loadedQuote.author}),/*#__PURE__*/_jsx(Route,{path:match.path,exact:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(Link,{className:\"btn--flat\",to:\"\".concat(match.url,\"/comments\"),children:\"Load Comments\"})})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/comments\"),children:/*#__PURE__*/_jsx(Comments,{})})]});};export default QuotesDetail;","map":{"version":3,"names":["useParams","Route","Link","useRouteMatch","Fragment","useEffect","useHttp","getSingleQuote","Comments","HighlightedQuote","LoadingSpinner","DUMMY_QUOTES","id","author","text","QuotesDetail","match","params","quoteId","sendRequest","status","loadedQuote","data","error","console","log","path","url"],"sources":["/Users/chchen/Andy暫存/JS_ReactUdemy/project_2/Route_pratice/src/pages/QuoteDetail.js"],"sourcesContent":["import { useParams, Route, Link, useRouteMatch } from \"react-router-dom\";\nimport { Fragment, useEffect } from \"react\";\n// import Test from \"./Test\";\nimport useHttp from '../hooks/use-http';\nimport { getSingleQuote } from \"../lib/api\";\nimport Comments from \"../components/comments/Comments\";\nimport HighlightedQuote from \"../components/quotes/HighlightedQuote\";\nimport LoadingSpinner from \"../components/UI/LoadingSpinner\";\n\nconst DUMMY_QUOTES = [\n  { id: \"q1\", author: \"Max\", text: \"Learning React is fun\" },\n  { id: \"q2\", author: \"Maxis\", text: \"Learning React is great\" },\n];\n\nconst QuotesDetail = () => {\n  const match = useRouteMatch();\n  const params = useParams();\n\n  const { quoteId } = params;\n\n  const { sendRequest, status, data:loadedQuote, error} = useHttp(getSingleQuote,true);\n\n  useEffect(()=>{\n    sendRequest(quoteId);\n  },[sendRequest,quoteId]);\n  console.log('match'+match);\n//   const quote = DUMMY_QUOTES.find((quote) => quote.id === params.quoteId);\n\n  if (status === 'pending'){\n    return <div className='centered'>\n        <LoadingSpinner/>\n    </div>\n  }\n\n  if (error){\n    return <p className=\"centered\">{error}</p>;\n  }\n\n  if (!loadedQuote.text) {\n    return <p>No quote found!</p>;\n  }\n  return (\n    <Fragment>\n      <HighlightedQuote text={loadedQuote.text} author={loadedQuote.author} />\n      <Route path={match.path} exact>\n        <div className=\"centered\">\n          <Link className=\"btn--flat\" to={`${match.url}/comments`}>\n            Load Comments\n          </Link>\n        </div>\n      </Route>\n      <Route path={`${match.path}/comments`}>\n      {/* <Route path={`/quotes/${params.quoteId}/comments`}> */}\n        <Comments />\n      </Route>\n    </Fragment>\n  );\n};\n\nexport default QuotesDetail;\n"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,KAApB,CAA2BC,IAA3B,CAAiCC,aAAjC,KAAsD,kBAAtD,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA;AACA,MAAOC,QAAP,KAAoB,mBAApB,CACA,OAASC,cAAT,KAA+B,YAA/B,CACA,MAAOC,SAAP,KAAqB,iCAArB,CACA,MAAOC,iBAAP,KAA6B,uCAA7B,CACA,MAAOC,eAAP,KAA2B,iCAA3B,C,wFAEA,GAAMC,aAAY,CAAG,CACnB,CAAEC,EAAE,CAAE,IAAN,CAAYC,MAAM,CAAE,KAApB,CAA2BC,IAAI,CAAE,uBAAjC,CADmB,CAEnB,CAAEF,EAAE,CAAE,IAAN,CAAYC,MAAM,CAAE,OAApB,CAA6BC,IAAI,CAAE,yBAAnC,CAFmB,CAArB,CAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,GAAMC,MAAK,CAAGb,aAAa,EAA3B,CACA,GAAMc,OAAM,CAAGjB,SAAS,EAAxB,CAEA,GAAQkB,QAAR,CAAoBD,MAApB,CAAQC,OAAR,CAEA,aAAwDZ,OAAO,CAACC,cAAD,CAAgB,IAAhB,CAA/D,CAAQY,WAAR,UAAQA,WAAR,CAAqBC,MAArB,UAAqBA,MAArB,CAAkCC,WAAlC,UAA6BC,IAA7B,CAA+CC,KAA/C,UAA+CA,KAA/C,CAEAlB,SAAS,CAAC,UAAI,CACZc,WAAW,CAACD,OAAD,CAAX,CACD,CAFQ,CAEP,CAACC,WAAD,CAAaD,OAAb,CAFO,CAAT,CAGAM,OAAO,CAACC,GAAR,CAAY,QAAQT,KAApB,EACF;AAEE,GAAII,MAAM,GAAK,SAAf,CAAyB,CACvB,mBAAO,YAAK,SAAS,CAAC,UAAf,uBACH,KAAC,cAAD,IADG,EAAP,CAGD,CAED,GAAIG,KAAJ,CAAU,CACR,mBAAO,UAAG,SAAS,CAAC,UAAb,UAAyBA,KAAzB,EAAP,CACD,CAED,GAAI,CAACF,WAAW,CAACP,IAAjB,CAAuB,CACrB,mBAAO,sCAAP,CACD,CACD,mBACE,MAAC,QAAD,yBACE,KAAC,gBAAD,EAAkB,IAAI,CAAEO,WAAW,CAACP,IAApC,CAA0C,MAAM,CAAEO,WAAW,CAACR,MAA9D,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAEG,KAAK,CAACU,IAAnB,CAAyB,KAAK,KAA9B,uBACE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,EAAE,WAAKV,KAAK,CAACW,GAAX,aAA9B,2BADF,EADF,EAFF,cASE,KAAC,KAAD,EAAO,IAAI,WAAKX,KAAK,CAACU,IAAX,aAAX,uBAEE,KAAC,QAAD,IAFF,EATF,GADF,CAgBD,CA3CD,CA6CA,cAAeX,aAAf"},"metadata":{},"sourceType":"module"}